<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details - Twyford Tiles</title>
    <link rel="icon" href="images/twyford-logo.jpg" type="image/jpg">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="logo">
                <a href="/"><img src="images/twyford-logo.jpg" alt="Twyford Tiles" style="max-height: 50px;"></a>
                <p class="tagline">Better tiles, Better life</p>
            </div>
            <nav>
                <ul class="nav-links">
                    <li><a href="/">Home</a></li>
                    <li><a href="collections.html">Collections</a></li>
                    <li><a href="bathroom-fixtures.html">Bathroom Fixtures</a></li>
                    <li><a href="quote.html">Get Quote</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <a href="tel:+254712345678" class="call-btn"><i class="fas fa-phone"></i> Call to Order</a>
                <a href="https://wa.me/254712345678?text=Hi%20Twyford%20Tiles,%20I'm%20interested%20in%20your%20tiles" class="whatsapp-btn" target="_blank">
                    <i class="fab fa-whatsapp"></i> Chat on WhatsApp
                </a>
                <div class="cart-icon" onclick="toggleCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Product Detail -->
    <section class="product-detail-section">
        <div class="container">
            <div class="breadcrumb">
                <a href="index.html">Home</a> / <a href="collections.html">Collections</a> / <span id="productBreadcrumb">Product</span>
            </div>
            
            <div class="product-detail-wrapper" id="productDetail">
                <!-- Product loaded by JavaScript -->
                <div class="loading-product">
                    <div class="loading-spinner"></div>
                    <p>Loading product details...</p>
                </div>
            </div>
            
            <!-- Related Products -->
            <div class="related-products-section" id="relatedProducts">
                <!-- Related products loaded by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3><i class="fas fa-shopping-cart"></i> Your Cart</h3>
            <button class="close-cart" onclick="toggleCart()">&times;</button>
        </div>
        <div class="cart-items" id="cartItems">
            <p class="empty-cart-msg">Your cart is empty</p>
        </div>
        <div class="cart-footer">
            <p>Total: KES <span id="cartTotal">0</span></p>
            <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
            <button class="clear-cart-btn" onclick="clearCart()">Clear Cart</button>
        </div>
    </div>
    <div class="cart-overlay" id="cartOverlay" onclick="toggleCart()"></div>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>Twyford Tiles</h3>
                    <p>Better tiles, Better life</p>
                    <p>Bringing elegance and durability to homes across Kenya.</p>
                    <div class="social-icons">
                        <a href="https://facebook.com/twyfordtileskenya" target="_blank" title="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://instagram.com/twyfordtiles" target="_blank" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://twitter.com/twyfordtiles" target="_blank" title="Twitter/X">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="https://tiktok.com/@twyfordtiles" target="_blank" title="TikTok">
                            <i class="fab fa-tiktok"></i>
                        </a>
                        <a href="https://linkedin.com/company/twyfordtiles" target="_blank" title="LinkedIn">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="https://youtube.com/@twyfordtiles" target="_blank" title="YouTube">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="collections.html">Collections</a></li>
                        <li><a href="bathroom-fixtures.html">Bathroom Fixtures</a></li>
                        <li><a href="quote.html">Get Quote</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="privacy-policy.html">Privacy Policy</a></li>
                        <li><a href="terms-conditions.html">Terms & Conditions</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact Us</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Nairobi, Kenya</p>
                    <p><i class="fas fa-phone"></i> <a href="tel:+254712345678">+254 712 345 678</a></p>
                    <p><i class="fas fa-phone"></i> <a href="tel:+254701234567">+254 701 234 567</a></p>
                    <p><i class="fas fa-envelope"></i> <a href="mailto:sales@twyfordtiles.co.ke">sales@twyfordtiles.co.ke</a></p>
                    <p><i class="fas fa-envelope"></i> <a href="mailto:info@twyfordtiles.co.ke">info@twyfordtiles.co.ke</a></p>
                </div>
                <div class="footer-col">
                    <h3>Business Hours</h3>
                    <p><strong>Mon - Fri:</strong> 8:00 AM - 6:00 PM</p>
                    <p><strong>Saturday:</strong> 9:00 AM - 4:00 PM</p>
                    <p><strong>Sunday:</strong> 11:00 AM - 3:00 PM</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="copyright">&copy; 2023 Twyford Tiles Kenya. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Fixed WhatsApp Button -->
    <a href="https://wa.me/254712345678?text=Hi%20Twyford%20Tiles,%20I'm%20interested%20in%20your%20tiles" class="fixed-whatsapp" target="_blank" title="Chat on WhatsApp">
        <i class="fab fa-whatsapp"></i>
    </a>

    <script src="js/scripts.js"></script>
    <script>
        // PRODUCTS DATA - Add this directly to the product page
        const products = [
            {
                id: 1,
                name: "Porcelain Wood Tile - Natural Oak",
                price: 2850,
                image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                category: "floor",
                size: "600x600",
                brand: "Pioneer Premium",
                finish: "Matt",
                description: "Premium wood-effect porcelain floor tiles with realistic natural oak finish. High-density porcelain with excellent durability and stain resistance. Perfect for residential and commercial spaces.",
                stock: "In Stock",
                extraImages: [
                    "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    "https://images.unsplash.com/photo-1599809275671-b5942cabc7a2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                ],
                features: ["Scratch Resistant", "Stain Proof", "Fade Resistant", "Easy Maintenance"]
            },
            {
                id: 2,
                name: "Glossy White Wall Tile",
                price: 1650,
                image: "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                category: "wall",
                size: "300x600",
                brand: "Pioneer Classic",
                finish: "Glossy",
                description: "Classic glossy white ceramic tiles perfect for creating clean, bright spaces. Ideal for bathrooms, kitchens, and feature walls.",
                stock: "In Stock",
                extraImages: [
                    "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                ]
            },
            {
                id: 3,
                name: "Carrara Marble Effect Tile",
                price: 3200,
                image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                category: "floor",
                size: "600x600",
                brand: "Pioneer Luxury",
                finish: "Polished",
                description: "Luxurious Carrara marble-effect tiles for floors and feature walls. Elegant veining pattern for a premium look.",
                stock: "In Stock",
                extraImages: [
                    "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                ]
            },
            {
                id: 4,
                name: "Glass Mosaic Tile - Blue Mix",
                price: 2150,
                image: "https://images.unsplash.com/photo-1618220179428-22790b461013?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                category: "wall",
                size: "300x300",
                brand: "Pioneer Mosaic",
                finish: "Glossy",
                description: "Vibrant glass mosaic tiles in blue mix colors. Perfect for shower areas, bathroom accents, and kitchen backsplashes.",
                stock: "Limited Stock",
                extraImages: [
                    "https://images.unsplash.com/photo-1618220179428-22790b461013?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                ]
            },
            {
                id: 5,
                name: "Natural Slate Effect Tile",
                price: 2950,
                image: "https://images.unsplash.com/photo-1599809275671-b5942cabc7a2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                category: "floor",
                size: "400x400",
                brand: "Pioneer Natural",
                finish: "Textured",
                description: "Natural slate-effect tiles with textured finish. Ideal for outdoor areas, patios, and indoor floors where slip-resistance is needed.",
                stock: "In Stock",
                extraImages: [
                    "https://images.unsplash.com/photo-1599809275671-b5942cabc7a2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                ]
            },
            {
                id: 6,
                name: "Hexagon Pattern Tile - Grey",
                price: 2450,
                image: "https://images.unsplash.com/photo-1565538810643-b5bdb714032a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                category: "wall",
                size: "300x600",
                brand: "Pioneer Modern",
                finish: "Matt",
                description: "Modern hexagon geometric pattern tiles in elegant grey. Creates stunning feature walls in living rooms and bathrooms.",
                stock: "In Stock",
                extraImages: [
                    "https://images.unsplash.com/photo-1565538810643-b5bdb714032a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                ]
            }
        ];

        // Load product details
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = parseInt(urlParams.get('id')) || 1;
            
            const product = products.find(p => p.id === productId);
            if (product) {
                displayProductDetails(product);
                displayRelatedProducts(productId);
            } else {
                // If product not found, show first product
                displayProductDetails(products[0]);
                displayRelatedProducts(1);
            }
        });
        
        function displayProductDetails(product) {
            document.getElementById('productBreadcrumb').textContent = product.name;
            
            const productDetail = `
                <div class="product-detail-grid">
                    <div class="product-images">
                        <div class="main-image">
                            <img src="${product.image}" alt="${product.name}" id="mainProductImage" onerror="this.src='https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                        </div>
                        <div class="image-thumbnails">
                            <img src="${product.image}" alt="${product.name} thumbnail" class="thumbnail active" onclick="changeMainImage(this.src)">
                            ${product.extraImages && product.extraImages.length > 0 ? 
                                product.extraImages.map(img => `
                                    <img src="${img}" alt="${product.name}" class="thumbnail" onclick="changeMainImage(this.src)">
                                `).join('') : ''}
                        </div>
                    </div>
                    
                    <div class="product-info">
                        <h1>${product.name}</h1>
                        <div class="product-price">KES ${product.price.toLocaleString()}</div>
                        
                        <div class="product-meta">
                            <div class="meta-item">
                                <i class="fas fa-layer-group"></i>
                                <span><strong>Category:</strong> ${product.category.charAt(0).toUpperCase() + product.category.slice(1)} Tile</span>
                            </div>
                            <div class="meta-item">
                                <i class="fas fa-ruler-combined"></i>
                                <span><strong>Size:</strong> ${product.size}</span>
                            </div>
                            <div class="meta-item">
                                <i class="fas fa-box"></i>
                                <span><strong>In Stock:</strong> ${product.stock || 'Available'}</span>
                            </div>
                            <div class="meta-item">
                                <i class="fas fa-shipping-fast"></i>
                                <span><strong>Delivery:</strong> Free in Nairobi</span>
                            </div>
                            ${product.brand ? `
                            <div class="meta-item">
                                <i class="fas fa-tag"></i>
                                <span><strong>Brand:</strong> ${product.brand}</span>
                            </div>
                            ` : ''}
                            ${product.finish ? `
                            <div class="meta-item">
                                <i class="fas fa-paint-roller"></i>
                                <span><strong>Finish:</strong> ${product.finish}</span>
                            </div>
                            ` : ''}
                        </div>
                        
                        <div class="product-description">
                            <h3>Product Description</h3>
                            <p>${product.description}</p>
                            ${product.features && product.features.length > 0 ? `
                            <ul class="product-features">
                                ${product.features.map(feature => `<li><i class="fas fa-check"></i> ${feature}</li>`).join('')}
                            </ul>
                            ` : ''}
                        </div>
                        
                        <div class="product-actions">
                            <div class="quantity-selector">
                                <button class="quantity-btn" onclick="decreaseQuantity()">-</button>
                                <input type="number" id="productQuantity" value="1" min="1" max="100">
                                <button class="quantity-btn" onclick="increaseQuantity()">+</button>
                                <span class="quantity-label">Boxes</span>
                            </div>
                            
                            <button class="add-to-cart-btn" onclick="addProductToCart(${product.id})">
                                <i class="fas fa-cart-plus"></i> Add to Cart
                            </button>
                            
                            <button class="buy-now-btn" onclick="buyNow(${product.id})">
                                <i class="fas fa-bolt"></i> Buy Now
                            </button>
                        </div>
                        
                        <div class="product-share">
                            <p>Share this product:</p>
                            <div class="share-buttons">
                                <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}" target="_blank" class="share-btn facebook">
                                    <i class="fab fa-facebook-f"></i>
                                </a>
                                <a href="https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent('Check out ' + product.name)}" target="_blank" class="share-btn twitter">
                                    <i class="fab fa-twitter"></i>
                                </a>
                                <a href="https://wa.me/?text=${encodeURIComponent('Check out this tile: ' + window.location.href)}" target="_blank" class="share-btn whatsapp">
                                    <i class="fab fa-whatsapp"></i>
                                </a>
                                <a href="#" onclick="copyToClipboard(window.location.href)" class="share-btn link" title="Copy link">
                                    <i class="fas fa-link"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('productDetail').innerHTML = productDetail;
        }
        
        function displayRelatedProducts(productId) {
            const currentProduct = products.find(p => p.id === productId);
            if (!currentProduct) return;
            
            // Get related products (same category, excluding current)
            const related = products.filter(p => 
                p.id !== productId && 
                p.category === currentProduct.category
            ).slice(0, 4);
            
            if (related.length > 0) {
                let html = `<div class="related-products">
                    <h2>Related Products</h2>
                    <div class="related-products-grid">`;
                
                related.forEach(product => {
                    html += `
                    <div class="related-product-card">
                        <a href="product.html?id=${product.id}">
                            <img src="${product.image}" alt="${product.name}" onerror="this.src='https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80'">
                            <h3>${product.name}</h3>
                            <p class="price">KES ${product.price.toLocaleString()}</p>
                        </a>
                        <button class="buy-btn" onclick="addToCart(${product.id})">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>`;
                });
                
                html += `</div></div>`;
                document.getElementById('relatedProducts').innerHTML = html;
            }
        }
        
        function changeMainImage(src) {
            document.getElementById('mainProductImage').src = src;
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.classList.remove('active');
            });
            event.target.classList.add('active');
        }
        
        function decreaseQuantity() {
            const input = document.getElementById('productQuantity');
            if (input.value > 1) input.value = parseInt(input.value) - 1;
        }
        
        function increaseQuantity() {
            const input = document.getElementById('productQuantity');
            if (input.value < 100) input.value = parseInt(input.value) + 1;
        }
        
        function addProductToCart(productId) {
            const quantity = parseInt(document.getElementById('productQuantity').value);
            const product = products.find(p => p.id === productId);
            
            // Check if addToCart function exists (from script.js)
            if (typeof window.addToCart === 'function') {
                for (let i = 0; i < quantity; i++) {
                    window.addToCart(productId);
                }
                alert(`${quantity} ${quantity > 1 ? 'boxes' : 'box'} of ${product.name} added to cart!`);
            } else {
                // Fallback if main cart function isn't loaded
                alert(`Product added to cart! (${quantity} ${quantity > 1 ? 'boxes' : 'box'})`);
            }
        }
        
        function buyNow(productId) {
            addProductToCart(productId);
            // Open cart sidebar if function exists
            if (typeof window.toggleCart === 'function') {
                window.toggleCart();
            }
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Link copied to clipboard!');
            });
            return false;
        }
    </script>
</body>
</html>